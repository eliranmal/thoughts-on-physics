---
layout: base
---

{{ content }}

{% if site.paginate %}
  {% assign posts = paginator.posts %}
{% else %}
  {% assign posts = site.posts %}
{% endif %}

{%- assign category_path_seg = page.url | split: '/' | slice: 1 -%}
{%- assign category_path_seg_str = category_path_seg | first -%}

{%- if posts.size > 0 -%}
  <ul class="post-list">
    {%- for post in posts -%}
      {%- if category_path_seg == empty -%}
        {%- if post.categories.size > 0 -%}
          {%- continue -%}
        {%- endif -%}
      {%- else -%}
        {%- unless post.categories contains category_path_seg_str -%}
          {%- continue -%}
        {%- endunless -%}
      {%- endif -%}
    <li>
      <h1><a class="post-link" href="{{ post.url | relative_url }}">{{ post.title | escape }}</a></h1>
      {{ post.excerpt }}
      {%- if post.tags.size > 0 -%}
      <p class="post-tags">
        {%- for tag in post.tags -%}
        <span tabindex="0" class="post-tag">{{ tag }}</span>
        {%- endfor -%}
      </p>
      {%- endif -%}
    </li>
    {%- endfor -%}
  </ul>

  {% if site.paginate %}
  <div class="pager">
    <ul class="pagination">
      {%- if paginator.previous_page %}
      <li><a href="{{ paginator.previous_page_path | relative_url }}" class="previous-page">{{ paginator.previous_page }}</a></li>
      {%- else %}
      <li><div class="pager-edge">•</div></li>
      {%- endif %}
      <li><div class="current-page">{{ paginator.page }}</div></li>
      {%- if paginator.next_page %}
      <li><a href="{{ paginator.next_page_path | relative_url }}" class="next-page">{{ paginator.next_page }}</a></li>
      {%- else %}
      <li><div class="pager-edge">•</div></li>
      {%- endif %}
    </ul>
  </div>
  {%- endif %}

{%- endif -%}
